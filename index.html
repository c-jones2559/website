<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>C Jones</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon-192.jpg" type="image/png">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>
      i love women and fortnite
    </h1>
    hey gamers whats up i love gaming
    <br><br>
    

    <h2>
      Global links
    </h2>
    <a href="https://cloud.cjones.cymru">
      <button>Nextcloud</button>
    </a>
    <a href="https://jelly.cjones.cymru">
      <button>Jellyfin</button>
    </a>
    <a href="https://sesquipedalia.cjones.cymru">
      <button>Sesquipedalia</button>
    </a>
    <h3>
      Redirects
    </h3>
    <a href="https://bot.cjones.cymru">
      <button>Discord bot</button>
    </a>

    <h2>
      Local links
    </h2>
    <h4>
      <label class="switch">
        <input type="checkbox" id="locationSwitch">
        <span class="slider"></span>
      </label>
      <span id="locationText">Home</span>
    </h4>
    
    <a id="nextcloud" href="#">
      <button>Nextcloud</button>
    </a>
    <a id="jellyfin" href="#">
      <button>Jellyfin</button>
    </a>
    <a id="sesquipedalia" href="#">
      <button>Sesquipedalia</button>
    </a>
    <br>
    <a id="npm" href="#">
      <button>NPM Admin</button>
    </a>
    <a id="cadvisor" href="#">
      <button>cAdvisor</button>
    </a>
    <a id="grafana" href="#">
      <button>Grafana</button>
    </a>
    





    
    <br><br>
    <script src="index.js"></script>
  </body>
</html>

<script>
// elements
const locationSwitch = document.getElementById("locationSwitch");
const locationText = document.getElementById("locationText");

// links
const nextcloud = document.getElementById("nextcloud");
const jellyfin = document.getElementById("jellyfin");
const sesquipedalia = document.getElementById("sesquipedalia");
const npm = document.getElementById("npm");
const cadvisor = document.getElementById("cadvisor");
const grafana = document.getElementById("grafana");

// base IPs
const homeIP = "192.168.1.59";
const uniIP  = "192.168.0.59";  // change to whatever it is at uni

function updateLinks() {
  const baseIP = locationSwitch.checked ? uniIP : homeIP;
  locationText.textContent = locationSwitch.checked ? "Uni" : "Home";

  nextcloud.href = `http://${baseIP}:8080`;
  jellyfin.href = `http://${baseIP}:8096`;
  sesquipedalia.href = `http://${baseIP}:8084`;
  npm.href = `http://${baseIP}:81`;
  cadvisor.href = `http://${baseIP}:8081`;
  grafana.href = `http://${baseIP}:3000`;
}

// run on load
updateLinks();

// run when toggled
locationSwitch.addEventListener("change", updateLinks);
</script>